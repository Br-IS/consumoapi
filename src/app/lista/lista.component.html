<app-navbar></app-navbar>

<style>
  *{
    background: #f5f5f5;
  }
</style>

<div class="row justify-content-center p-5">
  <div class="col-lg-4 col-md-4 col-sm-4" style="width: 50rem;">
    <div class="card text-dark bg-dark">
      <div class="card-header bg-dark text-white text-center">LISTAS</div>
      <div class="card-body">

        <table class="table">
          <thead class="">
          <tr>
            <th scope="col">#</th>
            <th scope="col">NOMBRE</th>
            <th scope="col">DESCRIPCION</th>
            <th scope="col">NUMERO CANCIONES</th>
            <th scope="col">EDITAR</th>
            <th scope="col">ELIMINAR</th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let lista of listas, let i=index">
            <th scope="row">{{i + 1}}</th>
            <td>{{lista.nombre}}</td>
            <td>{{lista.descripcion}}</td>
            <ng-container>
              <td>{{lista.cancion.length}}</td>
            </ng-container>
            <td>
              <button type="button" class="btn btn-warning text-dark" (click)="modal.open(editar)"
                      routerLink="/lista/{{lista.nombre}}">EDITAR
              </button>
            </td>
            <td>
              <button type="button" class="btn btn-danger text-dark" (click)="EliminarLista(lista.nombre)">ELIMINAR
              </button>
            </td>
          </tr>

          <tr>
            <td colspan="3"></td>
            <td>
              <button type="button" class="btn btn-info text-dark" (click)="modal.open(crear)">CREAR</button>
            </td>
          </tr>

          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<ng-template #crear let-modal>
  <div class="modal-header">
    <h1 class="modal-title">CREAR</h1>
  </div>
  <div class="modal-body">
    <form ngNativeValidate>
      <div class="mb-3">
        <label for="nombres" class="form-label text-center">Nombre</label>
        <input class="form-control" [(ngModel)]="lista.nombre" type="text" name="nombres" id="nombres" [readOnly]="true">
        <small id="nombresHelp" class="form-text text-muted"></small>
      </div>

      <div class="mb-3">
        <label for="descripcione" class="form-label text-center">DESCRIPCION</label>
        <input class="form-control" [(ngModel)]="lista.descripcion" type="text" name="descripcione" id="descripcione"
               required placeholder="ESCRIBA UNA DESCRIPCION DE LA MUSICA.">
      </div>

      <div class="text-center">
        <button type="submit" class="btn btn-info text-dark" (click)="CrearLista()">CREAR</button>
      </div>

    </form>
  </div>

  <div class="modal-footer">
    <button type="button" class="btn btn-danger text-dark" (click)="modal.close()">Cerrar</button>
  </div>
</ng-template>


<ng-template #editar let-modal>
  <div class="modal-header">
    <h1 class="modal-title">EDITAR</h1>
  </div>
  <div class="modal-body">
    <form ngNativeValidate>
      <div class="mb-3">
        <label for="nombre" class="form-label text-center">Nombre</label>
        <input class="form-control" [(ngModel)]="lista.nombre" type="text" name="nombre" id="nombre" readonly>
      </div>

      <div class="mb-3">
        <label for="descripcion" class="form-label text-center">DESCRIPCION</label>
        <input class="form-control" [(ngModel)]="lista.descripcion" type="text" name="descripcion" id="descripcion"
               required placeholder="ESCRIBA UNA DESCRIPCION DE LA MUSICA.">
      </div>

      <div class="text-center">
        <button type="submit" class="btn btn-info text-dark" (click)="EditarListas(lista.nombre)">EDITAR</button>
      </div>


    </form>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-danger text-dark" (click)="modal.close()">Cerrar</button>
  </div>
</ng-template>
